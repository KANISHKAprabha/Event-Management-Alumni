{% extends 'index.html' %}
{% block title %}Event Overview - Alumni Event Management{% endblock %}
{% if request.user.is_admin}

{% block content %}
<div class="section container mt-4">
  <h2 class="mb-4">📋 Events Overview</h2>
{% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
  <div class="row g-4">
    {% for event in events %}
    <div class="col-12 col-sm-6 col-lg-4"> <!-- Responsive columns -->
      <div class="card shadow-sm p-3 d-flex flex-column h-100">
        <!-- Card Body -->
        <div class="d-flex flex-column h-100">
          <!-- Event Info -->
          <h3 class="mb-2">
            <p >{{ event.name }}</p>
          </h3>
       
  <div class="card">
    {% if event.image %}
      <img src="{{ event.image.url }}" alt="{{ event.name }}">
    {% endif %}
 
  </div>



          <!-- Registration Status -->
         <div class="p-2 rounded mb-3 d-flex flex-column align-items-center justify-content-center" 
     style="background: rgba(102, 126, 234, 0.08); min-height: 80px;">
    {% if event.registration_deadline > now %}
        <p class="text-success fw-bold mb-2 text-center">✅ Registration Open</p>
        <a href="{% url 'register_event' event.id %}" class="btn btn-primary btn-sm">View Now</a>
    {% else %}
        <p class="text-danger fw-bold mb-0 text-center">❌ Registration Closed</p>
    {% endif %}
</div>

          {% if user.is_superuser %}
          <a href="{% url 'event_detail' event.pk %}" class="card-link mb-2">View Full Details →</a>
          {% endif %}

          <!-- Bottom Button -->
          
        </div>
      </div>
    </div>
    {% empty %}
    <div class="col-12">
      <div class="card h-100 shadow-sm p-3 text-center">
        <h3>No Events Available</h3>
        <p class="text-muted fst-italic">
          No events have been created yet. Check back soon!
        </p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
